@if (product(); as p) {
  <article class="product-card">
    <a [routerLink]="['/product', p.id]" class="product-card__link">
      <div class="product-card__image-wrap">
        @if (p.images.length) {
          <img [src]="p.images[0]" [alt]="p.title" class="product-card__image" />
        }
      </div>
      <h3 class="product-card__title">{{ p.title | uppercase }}</h3>
      <p class="product-card__price">{{ p.price }} EGP</p>
    </a>
    <div class="product-card__meta">
      <p class="product-card__stock" [class.product-card__stock--out]="p.stock === 0" [class.product-card__stock--in]="p.stock > 0">
        {{ p.stock === 0 ? 'Out of stock' : 'In stock' }}
      </p>
    </div>
    <button type="button" class="product-card__add" [disabled]="p.stock === 0" (click)="$event.stopPropagation()">
      Add to cart
    </button>
  </article>
}
