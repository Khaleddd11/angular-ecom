<div class="auth-page">
  <h1 class="auth-page__title">REGISTER</h1>
  
  <div class="auth-page__content">
    <div class="auth-page__form-wrapper">
      <h2 class="auth-page__subtitle">CREATE ACCOUNT</h2>
      <form class="auth-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="auth-form__field">
          <label for="register-email" class="auth-form__label">Email</label>
          <input type="email" id="register-email" class="auth-form__input" formControlName="email" placeholder="your.email@example.com" />
          @if (submitted && f.email.invalid) {
            <p class="auth-form__error">
              @if (f.email.hasError('required')) {
                Email is required.
              } @else if (f.email.hasError('email')) {
                Please enter a valid email.
              }
            </p>
          }
        </div>
        <div class="auth-form__field">
          <label for="register-name" class="auth-form__label">Full Name</label>
          <input type="text" id="register-name" class="auth-form__input" formControlName="name" placeholder="Your full name" />
          @if (submitted && f.name.invalid) {
            <p class="auth-form__error">Name is required.</p>
          }
        </div>
        <div class="auth-form__field">
          <label for="register-username" class="auth-form__label">Username</label>
          <input type="text" id="register-username" class="auth-form__input" formControlName="username" placeholder="username" />
          @if (submitted && f.username.invalid) {
            <p class="auth-form__error">
              @if (f.username.hasError('required')) {
                Username is required.
              } @else if (f.username.hasError('noSpaces')) {
                Username must not contain spaces.
              }
            </p>
          }
        </div>
        <div class="auth-form__field">
          <label for="register-password" class="auth-form__label">Password</label>
          <input type="password" id="register-password" class="auth-form__input" formControlName="password" placeholder="Create a password" />
          @if (submitted && f.password.invalid) {
            <p class="auth-form__error">
              @if (f.password.hasError('required')) {
                Password is required.
              } @else if (f.password.hasError('pattern')) {
                Password must be at least 8 characters and include uppercase, lowercase, number, and one of (* @ % $ #).
              }
            </p>
          }
        </div>
        <div class="auth-form__field">
          <label for="register-confirm" class="auth-form__label">Confirm Password</label>
          <input type="password" id="register-confirm" class="auth-form__input" formControlName="confirmPassword" placeholder="Confirm your password" />
          @if (submitted && f.confirmPassword.hasError('required')) {
            <p class="auth-form__error">Confirm password is required.</p>
          } @else if (submitted && registerForm.hasError('passwordMismatch')) {
            <p class="auth-form__error">Passwords do not match.</p>
          }
        </div>
        <button type="submit" class="auth-form__submit">CREATE ACCOUNT</button>
        <p class="auth-form__hint">
          Already have an account? <a routerLink="/login">Login</a>
        </p>
      </form>
    </div>
  </div>
</div>
